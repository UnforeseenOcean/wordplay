/*

WordPlay
The Office For Creative Research
May, 2014

https://github.com/blprnt/wordplay

*/


var rita = require('rita');

var corpusList = ["shakes","bible","freud","mobydick","bieber"];
var corpii = [];

for (var i = 0; i < corpusList.length; i++) {
	console.log("LOADING CORPUS: " + corpusList[i]);
	corpii[corpusList[i]] = require('corpii/' + corpusList[i] + '.json');
}

function getWordMatches(pattern) {
	console.log("Requested match for: " + pattern)
	var match = rita.RiTa.getPosTags(pattern).join(" ");
	var stresses = rita.RiTa.getStresses(pattern);
	var syllables = countSyllables(stresses);
	console.log(match + ":" + stresses + ":" + syllables);



	return("Results");
}

function countSyllables(s) {
	var syllables = 0;
  	var sswords = s.split(" ");
	 for (var i = 0; i < sswords.length; i++) {
	    syllables += sswords[i].split("/").length;
	 }
	 return(syllables);

}

module.exports.getWordMatches = getWordMatches;